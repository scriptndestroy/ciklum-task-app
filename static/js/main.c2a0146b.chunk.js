(this["webpackJsonptask-app"]=this["webpackJsonptask-app"]||[]).push([[0],{100:function(t,e,n){"use strict";n.r(e);var a,i=n(0),s=n.n(i),c=n(6),r=n.n(c),o=(n(15),n(61),n(62),n(20),n(21),n(63),n(11)),u=(n(29),n(16)),l=n(35),d=n(48),p=n(3),h=n(53),j=n(51),f=n(37),b=n(14),O=n(7),m=n.n(O),v=n(17),x=n(26),N=n(27),g=n(55),k=n(54),L=n(18),w=n.n(L),y={ciklum_api:"https://localhost:44311/",DEV:!1},S=Object(p.a)(Object(p.a)({},y),{},{VERSION:"v 0.190621"}),D=n(19),T=n(52);!function(t){t.LOADING="LOADING",t.LOADING_CLEAR="LOADING_CLEAR"}(a||(a={}));var C=function(){return{type:a.LOADING,payload:""}},F=function(){return{type:a.LOADING_CLEAR,payload:""}},I={showLoading:!1},R=Object(D.b)({uiReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.LOADING:return Object(p.a)(Object(p.a)({},t),{},{showLoading:!0});case a.LOADING_CLEAR:return Object(p.a)(Object(p.a)({},t),{},{showLoading:!1});default:return t}}}),A=Object(D.c)(R,Object(D.a)(T.a)),E=new(function(t){Object(g.a)(n,t);var e=Object(k.a)(n);function n(){var t;return Object(x.a)(this,n),(t=e.call(this)).URL=void 0,t.URL=S.ciklum_api+"Tasks",t}return Object(N.a)(n,[{key:"getTaskStatus",value:function(){var t=Object(v.a)(m.a.mark((function t(){var e=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.onInit(),t.abrupt("return",w.a.get(this.URL+"/taskStatus").then((function(t){return e.onFinish(t)})).catch((function(t){return e.onFinishError(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(function(){function t(){Object(x.a)(this,t),this.URL=void 0,this.URL=S.ciklum_api}return Object(N.a)(t,[{key:"setLoading",value:function(){A.dispatch(C())}},{key:"clearLoading",value:function(){A.dispatch(F())}},{key:"onInit",value:function(){this.setLoading()}},{key:"onFinish",value:function(t,e){return e||this.clearLoading(),t.data}},{key:"onFinishError",value:function(t,e){throw e||this.clearLoading(),t}},{key:"getAll",value:function(){var t=Object(v.a)(m.a.mark((function t(){var e=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.onInit(),t.abrupt("return",w.a.get(this.URL).then((function(t){return e.onFinish(t)})).catch((function(t){return e.onFinishError(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"create",value:function(){var t=Object(v.a)(m.a.mark((function t(e){var n=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.onInit(),t.abrupt("return",w.a.post("".concat(this.URL),e).then((function(t){return n.onFinish(t)})).catch((function(t){return n.onFinishError(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=Object(v.a)(m.a.mark((function t(e){var n=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.onInit(),t.abrupt("return",w.a.put("".concat(this.URL),e).then((function(t){return n.onFinish(t)})).catch((function(t){return n.onFinishError(t)})));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}())),G=n(1),U=Object(i.forwardRef)((function(t,e){var n=t.onSave,a=t.task,c=s.a.useState(a||{}),r=Object(o.a)(c,2),u=r[0],l=r[1],d=s.a.useState([]),O=Object(o.a)(d,2),m=O[0],v=O[1];Object(i.useEffect)((function(){E.getTaskStatus().then((function(t){v(t)}))}),[]);var x=Object(h.a)({initialValues:{title:(null===a||void 0===a?void 0:a.title)?a.title:"",description:(null===a||void 0===a?void 0:a.description)?a.description:"",status:(null===a||void 0===a?void 0:a.status)?a.status:""},validate:function(t){var e={title:"",description:"",status:""};return t.title||(e.title="Title is required."),t.description||(e.description="Description is required."),t.status||(e.status="Status is required."),e},onSubmit:function(t){n(t),console.log("aaa")}}),N=function(t){return!(!x.touched[t]||!x.errors[t])},g=function(t){return N(t)&&Object(G.jsx)("small",{className:"p-error",children:x.errors[t]})};return Object(G.jsx)("div",{className:"form-demo",style:{marginTop:"2rem"},children:Object(G.jsx)("div",{className:"",children:Object(G.jsxs)("form",{id:"form-task",className:"p-fluid",onSubmit:function(t){return function(t){return t.preventDefault(),x.handleSubmit(),x.validateForm(u).then((function(t){t.title||t.description||n(u)})),!1}(t)},children:[Object(G.jsxs)("div",{className:"p-field",children:[Object(G.jsxs)("span",{className:"p-float-label",children:[Object(G.jsx)(f.InputText,{id:"title",name:"title",value:u.title,maxLength:100,onChange:function(t){return l(Object(p.a)(Object(p.a)({},u),{},{title:t.currentTarget.value}))},autoFocus:!0,className:Object(b.classNames)({"p-invalid":N("title")})}),Object(G.jsx)("label",{htmlFor:"title",className:Object(b.classNames)({"p-error":N("title")}),children:"Title*"})]}),g("title")]}),Object(G.jsxs)("div",{className:"p-field p-mt-6",children:[Object(G.jsxs)("span",{className:"p-float-label",children:[Object(G.jsx)(f.InputText,{id:"description",name:"description",value:u.description,maxLength:300,onChange:function(t){return l(Object(p.a)(Object(p.a)({},u),{},{description:t.currentTarget.value}))},className:Object(b.classNames)({"p-invalid":N("description")})}),Object(G.jsx)("label",{htmlFor:"description",className:Object(b.classNames)({"p-error":N("description")}),children:"Description*"})]}),g("description")]}),Object(G.jsxs)("div",{className:"p-field p-mt-6",children:[Object(G.jsxs)("span",{className:"p-float-label",children:[Object(G.jsx)(j.Dropdown,{id:"status",name:"status",options:m,value:u.status,onChange:function(t){return l(Object(p.a)(Object(p.a)({},u),{},{status:t.value}))},className:Object(b.classNames)({"p-invalid":N("status")})}),Object(G.jsx)("label",{htmlFor:"status",className:Object(b.classNames)({"p-error":N("status")}),children:"Status*"})]}),g("status")]})]})})})})),_=function(t){var e=t.open,n=t.title,a=t.task,s=t.onSave,c=t.onClose,r=Object(i.useRef)(null);return Object(G.jsx)(d.Dialog,{draggable:!1,dismissableMask:!0,footer:Object(G.jsxs)("div",{children:[Object(G.jsx)(u.Button,{label:"No",icon:"pi pi-times",onClick:c,className:"p-button-text"}),Object(G.jsx)(u.Button,{label:"Yes",icon:"pi pi-check",type:"submit",form:"form-task",autoFocus:!0})]}),header:n,onHide:c,position:"top",style:{width:"30rem",marginTop:"5rem"},visible:e,children:Object(G.jsx)(U,{ref:r,task:a,onSave:function(t){return s(t)}})})},B=function(t){var e=t.title,n=t.tasks,a=t.onChange,i=t.readOnly,c=s.a.useState({title:"",description:"",status:""}),r=Object(o.a)(c,2),d=r[0],p=r[1],h=s.a.useState(!1),j=Object(o.a)(h,2),f=j[0],b=j[1],O=function(){b(!0)},m=function(t){p(n[t]),b(!0)};return Object(G.jsxs)(s.a.Fragment,{children:[Object(G.jsx)(_,{title:d.id?"Edit Task":"Add Task",task:d,onSave:function(t){return function(t){a(t),p({}),b(!1)}(t)},onClose:function(){b(!1),p({})},open:f}),Object(G.jsx)(l.Panel,{headerTemplate:function(t){var n="".concat(t.className," p-jc-start"),a="".concat(t.titleClassName," p-pl-1");return Object(G.jsxs)("div",{className:n,children:[Object(G.jsx)("span",{className:a,children:e}),!i&&Object(G.jsx)(u.Button,{label:"Add task",id:"addTask",icon:"pi pi-plus",onClick:O})]})},className:"p-shadow-1 m-mt-1",children:n.map((function(t,e){return Object(G.jsx)(l.Panel,{headerTemplate:function(n){return function(t,e,n){var a="".concat(t.className," p-jc-start p-p-2"),i="".concat(t.titleClassName," p-pl-1");return Object(G.jsxs)("div",{className:a,children:[Object(G.jsx)("span",{className:i,children:e}),Object(G.jsx)(u.Button,{className:"p-button-rounded p-button-text",style:{paddingLeft:"17px",paddingRight:"17px"},icon:"pi pi-ellipsis-v",onClick:function(){return m(n)}})]})}(n,t.title||"",e)},header:t.title,className:"p-mb-1",children:t.description},e)}))})]})},q=function(t){var e=s.a.useState([]),n=Object(o.a)(e,2),a=n[0],c=n[1];Object(i.useEffect)((function(){r()}),[]);var r=function(){E.getAll().then((function(t){c(t)}))},u=function(t){t.id?function(t){E.update(t).then((function(t){c(t)})).catch((function(t){console.error(t)}))}(t):function(t){E.create(t).then((function(t){c(t)})).catch((function(t){console.error(t)}))}(t)};return Object(G.jsxs)("div",{className:"p-grid",children:[Object(G.jsx)("div",{className:"p-col-12 p-lg-2",children:Object(G.jsx)(B,{title:"To Do",onChange:u,tasks:a.filter((function(t){return"TD"===t.status}))})}),Object(G.jsx)("div",{className:"p-col-12 p-lg-2",children:Object(G.jsx)(B,{readOnly:!0,title:"Done",onChange:u,tasks:a.filter((function(t){return"D"===t.status}))})})]})};var V=function(){return Object(G.jsx)("div",{className:"p-p-6",children:Object(G.jsx)(q,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(G.jsx)(s.a.StrictMode,{children:Object(G.jsx)(V,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},15:function(t,e,n){},63:function(t,e,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.c2a0146b.chunk.js.map